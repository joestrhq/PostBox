/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/6.8/samples
 */

plugins {
  id 'ru.vyarus.mkdocs' version '2.4.0' apply true
}

mkdocs {
  publish {
    docPath = '1.2.3'
    rootRedirect = true
    rootRedirectTo = 'latest'
    versionAliases = ['latest']
    generateVersionsFile = false
  }
}

task writeVersionsJson() {
  new File("$buildDir/mkdocs").mkdirs()
  new File("$buildDir/mkdocs", "versions.json").write("""
[
  {
    "version": "1.0.0",
    "title": "1.0.0",
    "aliases": []
  },
  {
    "version": "1.0.0+update1",
    "title": "1.0.0+update1",
    "aliases": []
  },
  {
    "version": "1.1.0",
    "title": "1.1.0",
    "aliases": []
  },
  {
    "version": "1.1.0+update1",
    "title": "1.1.0+update1",
    "aliases": []
  },
  {
    "version": "1.1.0+update2",
    "title": "1.1.0+update2",
    "aliases": []
  },
  {
    "version": "1.2.0",
    "title": "1.2.0",
    "aliases": []
  },
  {
    "version": "1.2.1",
    "title": "1.2.1",
    "aliases": []
  },
  {
    "version": "1.2.2",
    "title": "1.2.2",
    "aliases": []
  },
  {
    "version": "1.2.3",
    "title": "1.2.3",
    "aliases": [
      "latest"
    ]
  }
]
  """)
}

/* add old version
{
  "version": "1.0.0",
  "title": "1.0.0",
  "aliases": []
}
*/

/* update old docs
publish {
  docPath = '1.0.0'
  rootRedirect = false
  generateVersionsFile = false
}
*/
